{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/jahreskennzahl.vue?827e","webpack:///./src/components/produkteJahresueberblick.vue?9553","webpack:///./src/App.vue?7a7a","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?bf54","webpack:///./src/components/produkteJahresueberblick.vue?8a21","webpack:///./src/components/produkt.vue?b5b3","webpack:///./src/components/jahreskennzahl.vue?9a99","webpack:///./src/api.js","webpack:///src/components/jahreskennzahl.vue","webpack:///./src/components/jahreskennzahl.vue?07a0","webpack:///./src/components/jahreskennzahl.vue","webpack:///src/components/produkt.vue","webpack:///./src/components/produkt.vue?017a","webpack:///./src/components/produkt.vue","webpack:///src/components/produkteJahresueberblick.vue","webpack:///./src/components/produkteJahresueberblick.vue?9f59","webpack:///./src/components/produkteJahresueberblick.vue","webpack:///./src/components/extraEinnahmen.vue?b923","webpack:///src/components/extraEinnahmen.vue","webpack:///./src/components/extraEinnahmen.vue?c7ed","webpack:///./src/components/extraEinnahmen.vue","webpack:///./src/components/wartungsvertraege.vue?3031","webpack:///src/components/wartungsvertraege.vue","webpack:///./src/components/wartungsvertraege.vue?e208","webpack:///./src/components/wartungsvertraege.vue","webpack:///./src/components/personal.vue?d284","webpack:///src/components/personal.vue","webpack:///./src/components/personal.vue?b095","webpack:///./src/components/personal.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/produkt.vue?0c19"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticStyle","_v","_l","item","_id","calculateResultsApi","on","$event","submit","_s","newKalkulierteKosten","field","index","bFormOptionsKalkulierteKosten","model","callback","$$v","$set","expression","staticClass","directives","rawName","modifiers","$store","getters","extraEinnahmen","wartungsvertraege","personal","kalkulierteKosten","produkt","_e","calculateResults","_m","nameKosten","baseURL","axios","loadingExtraEinnahmen","computed","jahr","state","form","itemsKalkulierteKosten","props","String","methods","watch","dispatch","components","produktItem","beforeDestroy","unwatch","produktList","jahrCurrent","Date","getFullYear","timeoutId","fields","kalkulierteKostenItem","produkteList","kalkulierteKostenList","set","commit","submitKalkulierteKosten","submitKalkulierteKostenToStore","totalCurrentYear","totalKalkulierteKosten","kalkulierteKostenListObject","container","obj","log","kalkulierteKostenListYear","updateItem","extraEinnahmenItem","produkteListBFormOptions","toLocaleDateString","preventDefault","loadItem","submitCalculateResult","newExtraEinnahme","wartungsvertraegeItem","newWartungsvertrag","personalItem","newPersonal","personalList","total","forEach","submitCalculateResultToStore","totalPersonal","Vue","use","VueRouter","routes","path","Home","router","base","process","Vuex","Store","strict","mutations","updateJahr","updateExtraEinnahmen","updateWartungsvertraege","updatePersonal","updateKalkulierteKosten","actions","context","BootstrapVue","IconsPlugin","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.1ccfb4e7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d213cc4\":\"a1fde968\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jahreskennzahl.vue?vue&type=style&index=0&id=1a5a85c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jahreskennzahl.vue?vue&type=style&index=0&id=1a5a85c8&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkteJahresueberblick.vue?vue&type=style&index=0&id=0d8aacd7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkteJahresueberblick.vue?vue&type=style&index=0&id=0d8aacd7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2db06cd8&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticStyle:{\"text-align\":\"center\",\"padding\":\"0 0 7px 0\"}},[_vm._v(\"Terraplan Kostenrechnung 2020\")]),_c('produkte-jahresueberblick'),_c('personal'),_c('extraEinnahmen'),_c('wartungsvertraege')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"produktJahresueberblick\"}},[_c('hr'),_c('ul',_vm._l((_vm.produktList),function(item){return _c('produkt-item',{key:item._id,attrs:{\"produkt\":item,\"calculate-results\":_vm.calculateResultsApi}})}),1),_c('b-modal',{attrs:{\"id\":\"modal-kalkulierte-kosten\",\"size\":\"xl\",\"title\":\"Kalkulierte Kosten hinzufügen\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.submit()}}},[_vm._v(\" \"+_vm._s(_vm.newKalkulierteKosten)+\" \"),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_c('b-tr',_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(field.key === 'nameKosten')?_c('b-form-select',{attrs:{\"options\":_vm.bFormOptionsKalkulierteKosten},model:{value:(_vm.newKalkulierteKosten[field.key]),callback:function ($$v) {_vm.$set(_vm.newKalkulierteKosten, field.key, $$v)},expression:\"newKalkulierteKosten[field.key]\"}}):(field.key === 'terraWeb')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newKalkulierteKosten[field.key]),callback:function ($$v) {_vm.$set(_vm.newKalkulierteKosten, field.key, $$v)},expression:\"newKalkulierteKosten[field.key]\"}}):(field.key === 'terraSchüler')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newKalkulierteKosten[field.key]),callback:function ($$v) {_vm.$set(_vm.newKalkulierteKosten, field.key, $$v)},expression:\"newKalkulierteKosten[field.key]\"}}):(field.key === 'terraIndividual')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newKalkulierteKosten[field.key]),callback:function ($$v) {_vm.$set(_vm.newKalkulierteKosten, field.key, $$v)},expression:\"newKalkulierteKosten[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newKalkulierteKosten[field.key]),callback:function ($$v) {_vm.$set(_vm.newKalkulierteKosten, field.key, $$v)},expression:\"newKalkulierteKosten[field.key]\"}})],1)}),1)],1)],1)],1),_c('hr'),_c('div',{staticClass:\"inputJahr\"},[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-kalkulierte-kosten\",modifiers:{\"modal-kalkulierte-kosten\":true}}],attrs:{\"variant\":\"light\",\"size\":\"sm\"}},[_vm._v(\"Kalkulierte Kosten ändern\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('li',[(this.$store.getters.extraEinnahmen.length && this.$store.getters.wartungsvertraege.length && this.$store.getters.personal.length && this.$store.getters.kalkulierteKosten.length)?_c('h3',[_vm._v(\" \"+_vm._s(_vm.produkt.name)+\" : \"+_vm._s(this.$store.getters.wartungsvertraege[0][_vm.produkt.name] + this.$store.getters.extraEinnahmen[0][_vm.produkt.name] - this.$store.getters.personal[0][_vm.produkt.name])+\" \")]):_vm._e(),_c('jahreskennzahlItem',{attrs:{\"name\":_vm.produkt.name,\"calculate-results\":_vm.calculateResults}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(this.$store.getters.extraEinnahmen.length && this.$store.getters.wartungsvertraege.length && this.$store.getters.personal.length && this.$store.getters.kalkulierteKosten.length)?_c('li',[_c('ul',{staticClass:\"leistungen\"},[_vm._v(\"Wartungsverträge: \"+_vm._s(this.$store.getters.wartungsvertraege[0][_vm.name]))]),_c('ul',{staticClass:\"leistungen\"},[_vm._v(\"Extra Einnahmen: \"+_vm._s(this.$store.getters.extraEinnahmen[0][_vm.name]))]),_c('ul',{staticClass:\"kosten\"},[_vm._v(\"Personal: \"+_vm._s(this.$store.getters.personal[0][_vm.name]))]),_vm._m(0),_c('ul',{staticClass:\"annotation\"},[_vm._v(\"Basierend auf 2019 kalkuliert:\")]),_vm._l((_vm.itemsKalkulierteKosten),function(item){return _c('ul',{key:item._id,staticClass:\"kosten\"},[_vm._v(\" \"+_vm._s(item.nameKosten + \": \" + item[_vm.name])+\" \")])})],2):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('br')])}]\n\nexport { render, staticRenderFns }","\n\nimport axios from 'axios'\n\nconst baseURL = 'http://localhost:5000/api';\n\nexport default axios.create({baseURL});\n","<template>\n  <div>\n    <li\n      v-if=\"this.$store.getters.extraEinnahmen.length && this.$store.getters.wartungsvertraege.length && this.$store.getters.personal.length && this.$store.getters.kalkulierteKosten.length\"\n    >\n      <!-- <li v-if=\"name === produkt_id\"> -->\n      <!-- v-if: name und produkt_id(props die mit v-bind(doppelpunkt ist shorthand) vom produkte.vue kommt) -->\n      <ul class=\"leistungen\">Wartungsverträge: {{ this.$store.getters.wartungsvertraege[0][name] }}</ul>\n      <ul class=\"leistungen\">Extra Einnahmen: {{ this.$store.getters.extraEinnahmen[0][name] }}</ul>\n      <ul class=\"kosten\">Personal: {{ this.$store.getters.personal[0][name] }}</ul>\n      <ul> <br></ul>\n      <ul class=\"annotation\">Basierend auf 2019 kalkuliert:</ul>\n      <ul class=\"kosten\" v-for=\"item in itemsKalkulierteKosten\" :key=\"item._id\">\n        {{ item.nameKosten + \": \" + item[name] }}\n      </ul> \n\n      \n      \n      \n    </li>\n\n    \n    <!-- <span\n        v-for=\"value in filterByProdukt(extraEinnahmenResults)\"\n        :key=\"value._id\"\n        \n        \n    >{{ value }}</span>-->\n  </div>\n</template>\n\n<script>\nimport api from \"../api.js\"\n\nexport default {\n  name: \"jahreskennzahlItem\",\n  data() {\n    return {\n      //calculateResults: null\n      //extraEinnahmenResultsProdukt: null\n      loadingExtraEinnahmen: false,\n    };\n  },\n  computed: {\n    jahr: {\n      //hier wird die jahr variable computed, damit es im axios request genutzt werden kann.\n      get() {\n        return this.$store.state.form.jahr;\n      },\n    },\n    itemsKalkulierteKosten: {\n      get() {\n        return this.$store.getters.kalkulierteKosten\n      }\n    } \n\n    /* ,\n        extraEinnahmenResultsProdukt:  function () {\n            const extra = this.extraEinnahmenResults ? this.extraEinnahmenResults.jahr : {}\n            return extra\n        } */\n\n    /* ,\n        filterByProdukt() {\n            \n            //let filteredObject = {}\n            const produktFilter = this.name\n            let extraEinnahmenResultsFiltered = this.extraEinnahmenResults\n            return this.extraEinnahmenResultsFiltered//.produktFilter\n            //return filteredObject\n        } */\n  },\n  props: {\n    name: String,\n    calculateResults: Object,\n  },\n  methods: {\n    \n  },\n  async mounted() {\n    api\n      .get(\"/produkte\")\n      .then((response) => (this.produkteList = response.data))\n      .catch((error) => console.log(error))\n  },\n};\n</script>\n\n<style scoped>\nul {\n  padding-left: 0;\n}\n.kosten {\n  color: red;\n}\n.leistungen {\n  color: green;\n}\n.annotation {\n  color: grey;\n  font-size: 10px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jahreskennzahl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./jahreskennzahl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./jahreskennzahl.vue?vue&type=template&id=1a5a85c8&scoped=true&\"\nimport script from \"./jahreskennzahl.vue?vue&type=script&lang=js&\"\nexport * from \"./jahreskennzahl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jahreskennzahl.vue?vue&type=style&index=0&id=1a5a85c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a5a85c8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n    <li> \n       <h3  v-if=\"this.$store.getters.extraEinnahmen.length && this.$store.getters.wartungsvertraege.length && this.$store.getters.personal.length && this.$store.getters.kalkulierteKosten.length\"> {{ produkt.name }} : {{ this.$store.getters.wartungsvertraege[0][produkt.name] + this.$store.getters.extraEinnahmen[0][produkt.name] - this.$store.getters.personal[0][produkt.name]}} </h3>\n        \n        \n        \n        <jahreskennzahlItem \n            v-bind:name=\"produkt.name\"\n            v-bind:calculate-results=\"calculateResults\"\n            ></jahreskennzahlItem>\n        \n    </li> \n  \n  \n</div>\n</template>\n\n<script>\nimport jahreskennzahlItem from './jahreskennzahl.vue'\nimport axios from 'axios'\n//import {store} from \"../store/index.js\";\n\n\n\n\n\nexport default {\n    name: 'produktItem',\n    props: {\n        produkt: Object,\n        calculateResults: Object,\n    },\n    data () {\n        return {\n        }\n    },\n    components: {\n        jahreskennzahlItem\n    },\n    computed: {\n        /* jahr() { //hier wird das jahr der jahreskennzahl vom store geholt\n            return this.$store.getters.jahr\n        } */\n    },\n    methods: {\n        reload () { //so functions schreiben ist shorthand\n            //this.jahreskennzahl = this.reloadArray(this.jahreskennzahl)\n           \n        \n        \n\n        let produkte = 'http://localhost:5000/api/produkte'\n        //let calculateResults = `ÖÖÖhttp://localhost:5000/api/calculateResults?jahr=${this.$store.getters.jahr}`\n\n        const requestProdukte = axios.get(produkte)\n        //const requestCalculateResults = axios.get(calculateResults)\n        \n        axios.all([requestProdukte])\n        .then(axios.spread((...responses) => {\n            this.produktList = responses[0].data\n            //this.calculateResults = responses[1].data\n            \n            \n        }\n        )).catch(error => console.log(error))\n\n        \n        \n        }\n    },\n    watch: {\n        jahr() {\n            \n        }\n    },\n    mounted () {\n        this.reload()\n        //this.$store.dispatch('updateJahr', this.jahrCurrent) //beim mounten wird das jahr aus current jahr in den store geschrieben.\n    }\n}\n</script>\n\n<style scoped>\nul {\n    color:blue;\n    padding-left: 0;\n    \n    align-items: left;\n    list-style: none;\n\n    \n}\n\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./produkt.vue?vue&type=template&id=690ac2b7&scoped=true&\"\nimport script from \"./produkt.vue?vue&type=script&lang=js&\"\nexport * from \"./produkt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./produkt.vue?vue&type=style&index=0&id=690ac2b7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"690ac2b7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"produktJahresueberblick\" >\n    <hr />\n    <ul > \n      <produkt-item\n        v-for=\"item in produktList\"\n        v-bind:produkt=\"item\"\n        v-bind:key=\"item._id\"\n        :calculate-results=\"calculateResultsApi\"\n      ></produkt-item>\n    </ul>\n\n\n\n    <b-modal\n      id=\"modal-kalkulierte-kosten\"\n      size=\"xl\"\n      title=\"Kalkulierte Kosten hinzufügen\"\n      area-hidden=\"false\"\n      @ok=\"submit()\"\n    >\n    {{newKalkulierteKosten}}\n      <b-table-simple striped hover>\n        <b-thead>\n          <b-tr>\n            <b-th v-for=\"(field, index) in fields\" :key=\"index\">{{field.key}}</b-th>\n            <b-th></b-th>\n          </b-tr>\n        </b-thead>\n\n        <b-tbody>\n          <b-tr>\n            <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n              <b-form-select\n                v-if=\"field.key === 'nameKosten'\"\n                v-model=\"newKalkulierteKosten[field.key]\"\n                :options=\"bFormOptionsKalkulierteKosten\"\n              ></b-form-select>\n              <b-form-input\n                v-else-if=\"field.key === 'terraWeb'\"\n                v-model=\"newKalkulierteKosten[field.key]\"\n                type=\"number\"\n              ></b-form-input>\n              <b-form-input\n                v-else-if=\"field.key === 'terraSchüler'\"\n                v-model=\"newKalkulierteKosten[field.key]\"\n                type=\"number\"\n              ></b-form-input>\n              <b-form-input\n                v-else-if=\"field.key === 'terraIndividual'\"\n                v-model=\"newKalkulierteKosten[field.key]\"\n                type=\"number\"\n              ></b-form-input>\n              <b-form-input\n                v-else\n                :placeholder=\"field.key\"\n                v-model=\"newKalkulierteKosten[field.key]\"\n              ></b-form-input>\n            </b-th>\n          </b-tr>\n        </b-tbody>\n      </b-table-simple>\n    </b-modal>\n    <hr />\n    \n    <div class=\"inputJahr\">\n      <!-- <input v-model=\"jahr\" style=\"text-align:right\" > -->\n\n      <b-btn\n      v-b-modal.modal-kalkulierte-kosten\n      variant=\"light\"\n      size=\"sm\"\n    >Kalkulierte Kosten ändern</b-btn>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport produktItem from \"./produkt.vue\"\n//import jahreskennzahlItem from \"./jahreskennzahl.vue\";\nimport axios from \"axios\"\nimport api from \"../api.js\"\n//import api from \"../api.js\";\n//import {store} from '../store/index.js'\n\nexport default {\n  name: \"produktJahresueberblick\",\n  watch: {\n    // watch schaut ob sich etwas ändert. die im watcher funktion läuft mit zwei parametern: 1. action, 2. getter.\n    jahr() {\n      //debouncing\n        if (this.timeoutId) { //wenn timeoutId vorhanden ist, dann wird der timeout time zurückgesetzt und die timoutId auf null gesetzt. \n            clearTimeout(this.timeoutId);\n            this.timeoutId = null;\n        }\n        this.timeoutId = setTimeout(async () => { // setTimeout evaluiert das ergebnis der funktion nach xxx millisekunden. d.h. this.reload() wird dann aufgerufen. \n            await this.reload() //das ergebnis dieser funktion wird gewatched, wenn es sich ändern dann wird jahr upgedated mit this.reload()\n        }, 300);    \n    \n      this.$store.dispatch(\"updateJahr\", this.jahr); //das ergebnis dieser funktion wird gewatched\n    }\n  },\n  components: {\n    produktItem,\n    //jahreskennzahlItem\n  },\n  beforeDestroy() {\n    this.unwatch(); // anscheinend ist unwatch wichtig bei watch, damit der watcher gestopped wird https://dev.to/viniciuskneves/watch-for-vuex-state-changes-2mgj\n  },\n  props: {},\n  data() {\n    return {\n      produktList: null, //Eine Variable wird angelegt, damit axios etwas in die variable schreiben kann und es mit v-for angezeigt werden kann.\n      calculateResultsApi: null,\n      jahrCurrent: new Date().getFullYear(),\n      timeoutId: null, //fürs debouncing bei der eingabe des jahres\n      fields: [\n        { key: \"nameKosten\", sortable: true },\n        { key: \"terraWeb\", sortable: false },\n        { key: \"terraSchüler\", sortable: false },\n        { key: \"terraIndividual\", sortable: false },\n        { key: \"sonstige\", sortable: false },\n      ],\n      bFormOptionsKalkulierteKosten: [\n        \"Gemeinkosten\",\n        \"Serverkosten\",\n        \"Nebenkosten\",\n        \"Vertriebskosten\",\n      ],\n      newKalkulierteKosten: {},\n      kalkulierteKostenItem: {},\n      produkteList: [],\n      kalkulierteKostenList: []\n    }\n  },\n  async mounted() {\n    //load current year into store\n    this.$store.dispatch(\"updateJahr\", this.jahrCurrent);\n\n    axios\n      .get(\"http://localhost:5000/api/produkte\")\n      .then(response => (this.produktList = response.data))\n      .catch(error => console.log(error));\n    /*         .then(response => (this.produktList = response.data))\n        .then(response => (this.jahreskennzahlItem = response.data)) */\n\n   // this.reload()\n  },\n  computed: {\n    jahr: {\n      //hier wird die jahr variable computed, damit es im axios request genutzt werden kann.\n      get() {\n        return this.$store.state.form.jahr;\n      },\n      set(value) {\n        this.$store.commit(\"updateJahr\", value);\n      }\n    }\n  },\n  methods: {\n      /* reload() {\n        for (let i = 0; i < this.bFormOptionsKalkulierteKosten.length; i++){\n          const response =  api.get(`/kalkulierteKosten/newest?namekosten=${this.bFormOptionsKalkulierteKosten[i]}`)\n          console.log(response)\n          this.kalkulierteKostenList.push(response.data[0])\n        }\n        console.log(this.kalkulierteKostenList)\n        this.$store.dispatch(\"updateKalkulierteKosten\", this.kalkulierteKostenList)\n    }, */\n     async reload() {\n      try {\n        for (let i = 0; i < this.bFormOptionsKalkulierteKosten.length; i++){\n          const response = await api.get(`/kalkulierteKosten/newest?namekosten=${this.bFormOptionsKalkulierteKosten[i]}`)\n          this.kalkulierteKostenList.push(response.data[0])\n        }\n        this.$store.dispatch(\"updateKalkulierteKosten\", this.kalkulierteKostenList)\n/* \n        // Write total to DB if changed (not functioning yet)\n        const totalDb = await api.get(`/calculateResults?kostenleistung=total`)\n        const totalStoreArray = []\n        for (let i = 0; i < this.produktList; i++){\n           totalStoreArray.push(totalStore = this.$store.getters.wartungsvertraege[0][produkt.name] + this.$store.getters.extraEinnahmen[0][produkt.name] - this.$store.getters.personal[0][produkt.name])\n        }\n       */\n\n        /* if (responseTotal === this.totalFromStore.get) {\n          const res = await api.post(\n            `calculateResults`,\n            this.totalFromStore.get\n          )\n        } */\n\n      } catch (err) {\n        console.log(err);\n      }\n    }, \n    async submit() {\n      const res = await api.post(\n        `/kalkulierteKosten`,\n        this.newKalkulierteKosten\n      )\n      this.submitKalkulierteKosten()\n      if (res.status === 200) await this.reload()\n    },\n    async removeItem(id) {\n      const res = await api.delete(`/kalkulierteKosten/${id}`);\n      if (res.status === 200) {\n        alert(`Eintrag mit ID ${id} wurde gelöscht.`);\n        await this.reload();\n        this.submitKalkulierteKosten();\n      }\n    },\n    async loadItem(id) {\n      const res = await api.get(`/kalkulierteKosten/ID/${id}`);\n      this.kalkulierteKostenItem = res.data;\n    },\n    async updateItem(id, ItemToUpdate) {\n      const res = await api.put(`/kalkulierteKosten/${id}`, ItemToUpdate);\n      if (res.status === 200) {\n        await this.reload();\n        this.submitKalkulierteKosten();\n      }\n    },\n    submitKalkulierteKosten() {\n      //const total = this.totalKalkulierteKosten(this.kalkulierteKostenList);\n      //console.log(this.kalkulierteKostenList)\n      /* const totalCurrentYear = total.filter(\n        (item) => item.jahr === this.$store.getters.jahr\n      ) */\n      this.$store.dispatch(\"updateKalkulierteKosten\", this.kalkulierteKostenList);\n     /*  total.forEach(async (item) => {\n        const res = api.post(`/kalkulierteKosten`, item);\n        if (res.status === 200) await this.reload();\n      }) */\n    },\n    submitKalkulierteKostenToStore(array) {\n      const total = this.totalKalkulierteKosten(array);\n      const totalCurrentYear = total.filter(\n        (item) => item.jahr === this.$store.getters.jahr\n      );\n      this.$store.dispatch(\"updateKalkulierteKosten\", totalCurrentYear);\n    },\n    totalKalkulierteKosten(kalkulierteKostenListObject) {\n      if (!kalkulierteKostenListObject) {\n        return 0;\n      }\n\n      //Formats date of the array of objects to YYYY.\n      let kalkulierteKostenListYear = kalkulierteKostenListObject.map((obj) => {\n        const container = {};\n        container[\"jahr\"] = new Date(obj[\"jahr\"]).getFullYear();\n        container[\"nameKosten\"] = obj[\"nameKosten\"] ? obj[\"nameKosten\"] : \"\";\n        container[\"terraWeb\"] = obj[\"prozentWeb\"] ? obj[\"prozentWeb\"] : 0;\n        container[\"terraSchüler\"] = obj[\"prozentSchueler\"]\n          ? obj[\"prozentSchueler\"]\n          : 0;\n        container[\"terraIndividual\"] = obj[\"prozentIndividual\"]\n          ? obj[\"prozentIndividual\"]\n          : 0;\n        container[\"sonstige\"] = 0;\n        return container;\n      });\n      console.log(kalkulierteKostenListYear)\n      return kalkulierteKostenListYear;\n    }\n  }\n};\n</script>\n\n<style scoped>\nul {\n  color: green;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: left;\n  position: relative;\n  vertical-align: top;\n  list-style: none;\n  padding-left: 0;\n}\n.inputJahr {\n  margin-bottom: 10px;\n  text-align: right;\n  width: 100%;\n}\n#produktJahresueberblick {\n  margin: 0 30px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkteJahresueberblick.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkteJahresueberblick.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./produkteJahresueberblick.vue?vue&type=template&id=0d8aacd7&scoped=true&\"\nimport script from \"./produkteJahresueberblick.vue?vue&type=script&lang=js&\"\nexport * from \"./produkteJahresueberblick.vue?vue&type=script&lang=js&\"\nimport style0 from \"./produkteJahresueberblick.vue?vue&type=style&index=0&id=0d8aacd7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d8aacd7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Extra Einnahmen\")]),_vm._v(\" feat: The new feature you're adding to a particular application fix: A bug fix style: Feature and updates related to styling refactor: Refactoring a specific section of the codebase test: Everything related to testing docs: Everything related to documentation chore: Regular code maintenance. \"),_c('br'),_c('div',[_c('b-modal',{attrs:{\"id\":\"modal-extra-einnahmen\",\"size\":\"xl\",\"title\":\"Extra Einnahme\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.updateItem(_vm.extraEinnahmenItem._id, _vm.extraEinnahmenItem)}}},[_c('p',{staticClass:\"my-4\"},[_c('b-table-simple',[_c('b-tr',_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[_vm._v(\" \"+_vm._s(field.key)+\" \")])}),1),_c('b-tr',_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(field.key === 'preis')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.extraEinnahmenItem[field.key]),callback:function ($$v) {_vm.$set(_vm.extraEinnahmenItem, field.key, $$v)},expression:\"extraEinnahmenItem[field.key]\"}}):(field.key === 'datumAbgeschlossen')?_c('b-form-datepicker',{model:{value:(_vm.extraEinnahmenItem[field.key]),callback:function ($$v) {_vm.$set(_vm.extraEinnahmenItem, field.key, $$v)},expression:\"extraEinnahmenItem[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.extraEinnahmenItem[field.key]),callback:function ($$v) {_vm.$set(_vm.extraEinnahmenItem, field.key, $$v)},expression:\"extraEinnahmenItem[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.extraEinnahmenItem[field.key]),callback:function ($$v) {_vm.$set(_vm.extraEinnahmenItem, field.key, $$v)},expression:\"extraEinnahmenItem[field.key]\"}})],1)}),1)],1)],1)])],1),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_vm._l((_vm.extraEinnahmenList),function(data,index){return _c('b-tr',{key:index},[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(data[field.key] && field.key === 'datumAbgeschlossen')?_c('span',[_vm._v(\" \"+_vm._s(new Date(data[field.key]).toLocaleDateString())+\" \")]):_c('span',[_vm._v(_vm._s(data[field.key]))])])}),_c('b-th',[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-extra-einnahmen\",modifiers:{\"modal-extra-einnahmen\":true}}],key:index,attrs:{\"variant\":\"info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadItem(data._id)}}},[_vm._v(\"Edit\")])],1)],2)}),_c('b-tr',[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(field.key === 'preis')?_c('b-form-input',{attrs:{\"type\":\"number\"},on:{\"click\":_vm.submitCalculateResult},model:{value:(_vm.newExtraEinnahme[field.key]),callback:function ($$v) {_vm.$set(_vm.newExtraEinnahme, field.key, $$v)},expression:\"newExtraEinnahme[field.key]\"}}):(field.key === 'datumAbgeschlossen')?_c('b-form-datepicker',{model:{value:(_vm.newExtraEinnahme[field.key]),callback:function ($$v) {_vm.$set(_vm.newExtraEinnahme, field.key, $$v)},expression:\"newExtraEinnahme[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.newExtraEinnahme[field.key]),callback:function ($$v) {_vm.$set(_vm.newExtraEinnahme, field.key, $$v)},expression:\"newExtraEinnahme[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newExtraEinnahme[field.key]),callback:function ($$v) {_vm.$set(_vm.newExtraEinnahme, field.key, $$v)},expression:\"newExtraEinnahme[field.key]\"}})],1)}),_c('b-th',[_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])],1)],2)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n      \n      \n      <h2>Extra Einnahmen</h2>\n\nfeat: The new feature you're adding to a particular application\nfix: A bug fix\nstyle: Feature and updates related to styling\nrefactor: Refactoring a specific section of the codebase\ntest: Everything related to testing\ndocs: Everything related to documentation\nchore: Regular code maintenance.\n\n<br>\n      <div>\n  <!-- <b-button v-b-modal.modal-extra-einnahmen>Launch demo modal</b-button> -->\n\n  <b-modal id=\"modal-extra-einnahmen\" size=\"xl\" title=\"Extra Einnahme\" area-hidden=\"false\" @ok=\"updateItem(extraEinnahmenItem._id, extraEinnahmenItem)\">\n  \n    <p class=\"my-4\">\n      <b-table-simple>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n              {{field.key}}\n          </b-th>\n        </b-tr>\n        <b-tr>\n            <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n              <b-form-input v-if=\"field.key === 'preis'\" v-model=\"extraEinnahmenItem[field.key]\" type=\"number\"></b-form-input>\n              <b-form-datepicker v-else-if=\"field.key === 'datumAbgeschlossen'\" v-model=\"extraEinnahmenItem[field.key]\"></b-form-datepicker>\n              <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"extraEinnahmenItem[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n              <b-form-input v-else :placeholder=\"field.key\"  v-model=\"extraEinnahmenItem[field.key]\"></b-form-input>\n            </b-th>\n        </b-tr>\n      </b-table-simple>\n \n    </p>\n  </b-modal>\n</div>\n\n    \n    <b-table-simple striped hover >\n      <b-thead>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">{{field.key}}</b-th>\n          <b-th></b-th>\n        </b-tr>\n      </b-thead>\n\n      <b-tbody>\n        <b-tr v-for=\"(data, index) in extraEinnahmenList\" :key=\"index\">\n\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n            <span v-if=\"data[field.key] && field.key === 'datumAbgeschlossen'\">\n              {{ new Date(data[field.key]).toLocaleDateString() }}\n            </span>\n            <span v-else>{{data[field.key]}}</span>\n          </b-th>\n\n          <b-th>\n            <b-btn v-b-modal.modal-extra-einnahmen variant=\"info\" :key=\"index\" @click.prevent=\"loadItem(data._id)\">Edit</b-btn>\n          </b-th>\n        </b-tr>\n\n        <b-tr>\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n            <b-form-input v-if=\"field.key === 'preis'\" v-model=\"newExtraEinnahme[field.key]\" type=\"number\" @click=\"submitCalculateResult\"></b-form-input>\n            <b-form-datepicker v-else-if=\"field.key === 'datumAbgeschlossen'\" v-model=\"newExtraEinnahme[field.key]\"></b-form-datepicker>        \n            <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"newExtraEinnahme[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n            <b-form-input v-else :placeholder=\"field.key\"  v-model=\"newExtraEinnahme[field.key]\"></b-form-input>\n          </b-th>\n\n          <b-th>\n            <b-btn variant=\"success\" @click.prevent=\"submit\">Submit</b-btn>\n          </b-th>\n        </b-tr>\n\n      </b-tbody>\n\n    </b-table-simple>\n    \n    \n  </div>\n  \n</template>\n\n<script>\n  import api from '../api.js'\n\n  export default {\n    name: 'extraEinnahmen',\n    data() {\n      return {\n        sortBy: 'age',\n        sortDesc: false,\n        fields: [\n          { key: 'kunde', sortable: true },\n          { key: 'beschreibung', sortable: false },\n          { key: 'idLexware', sortable: false },\n          { key: 'produkt', sortable: true },\n          { key: 'status', sortable: false },\n          { key: 'datumAbgeschlossen', sortable: true },\n          { key: 'preis', sortable: true },\n          { key: 'verantwortlich', sortable: true },\n        ],\n        extraEinnahmenList: null,\n        newExtraEinnahme: {},\n        extraEinnahmenItem: {},\n        produkteList: []\n      }\n    },\n    computed: {\n      produkteListBFormOptions () {\n          let result = this.produkteList.map(a => a.name)\n          return result\n      }\n    },\n    methods: {\n      async reload () {\n        try {\n          const response = await api\n            .get('/extraEinnahmen')\n          this.extraEinnahmenList = response.data\n          this.submitCalculateResultToStore(response.data)\n        } catch(err) {\n          console.log(err)\n        }\n      },\n      async submit() {\n        const res = await api.post(`/extraeinnahmen`, this.newExtraEinnahme)\n        if (res.status === 200) await this.reload()\n        this.submitCalculateResult()\n        \n      },\n      async removeItem(id) {\n        const res = await api.delete(`/extraeinnahmen/${id}`)\n        if (res.status === 200) {\n          alert(`Eintrag mit ID ${id} wurde gelöscht.`)\n          await this.reload() \n          this.submitCalculateResult()\n        }\n        \n      },\n      async loadItem(id) {\n        const res = await api.get(`/extraeinnahmen/ID/${id}`)\n        this.extraEinnahmenItem = res.data\n      },\n      async updateItem(id, ItemToUpdate) {\n        const res = await api.put(`/extraeinnahmen/${id}`, ItemToUpdate)\n        if (res.status === 200) {\n          await this.reload()\n          this.submitCalculateResult()\n        }\n        //this.submitCalculateResult()\n        //setTimeout(() => this.submitCalculateResult(), 2000)\n        \n        \n      },\n      submitCalculateResult() {\n        const total =  this.totalExtraEinnahmen(this.extraEinnahmenList)\n        const totalCurrentYear = total.filter(item => item.jahr === this.$store.getters.jahr)\n        this.$store.dispatch(\"updateExtraEinnahmen\", totalCurrentYear)\n        total.forEach(async (item) => {\n          const res = api.post(`/calculateResults`, item);\n          if (res.status === 200) await this.reload();\n        })\n        \n      },\n      submitCalculateResultToStore(array) {\n        const total = this.totalExtraEinnahmen(array)\n        const totalCurrentYear = total.filter(item => item.jahr === this.$store.getters.jahr)\n        //console.log(totalCurrentYear)\n        this.$store.dispatch(\"updateExtraEinnahmen\", totalCurrentYear)\n        \n        \n      },\n      totalExtraEinnahmen (extraEinnahmenListObject) {\n        if (!this.extraEinnahmenList) {return 0}\n        \n        //Formats date of the array of objects to YYYY.\n        let extraEinnahmenListYear = extraEinnahmenListObject.map(obj => {\n          const container = {}\n          container['jahr'] = new Date(obj['datumAbgeschlossen']).getFullYear()\n          container['preis'] = obj['preis']\n          container['produkt'] = obj['produkt']\n          return container\n        })\n\n        //Create an object out of produktList. This object will be attached in reduce function in accumulator. this way there is never undefined in the product price in the reduce function.\n        let produkteListNull = {}\n        this.produkteList.map( (item) => {\n          produkteListNull[item.name] = 0\n        })\n          \n        //Create Object which sums grouped by year and product\n        let summedByYear = extraEinnahmenListYear.reduce((accumulator, object) => { \n          \n          if (!accumulator.some((item) => item.jahr === object.jahr )) { //if there is no property in the accumulator which is the same as the year property of the object\n            accumulator.push({ jahr: object.jahr, kostenLeistung: 'extraEinnahmen', ...produkteListNull }) //then it will add another object in the accumulator array with year and all products. all producs have price = 0 as default.\n         } \n          accumulator.forEach((item) => { //goes through accumulator and will add the price to the correct product.\n              if (item.jahr === object.jahr ) {\n                item[object.produkt] = item[object.produkt] + object.preis\n              }\n            })\n          return accumulator\n        }, [])\n        //console.log(summedByYear)\n        return summedByYear\n        //Promise.resolve('Success') //necessary??\n      } \n    },\n    async mounted () {\n      api\n          .get('/produkte')\n          .then(response => (this.produkteList = response.data))\n          .catch(error => console.log(error)),\n      await this.reload()\n    },\n    components: {\n      //editExtraEinnahmen\n    }\n  }\n</script>\n\n<style scoped>\n\n \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./extraEinnahmen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./extraEinnahmen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./extraEinnahmen.vue?vue&type=template&id=c6ba3a84&scoped=true&\"\nimport script from \"./extraEinnahmen.vue?vue&type=script&lang=js&\"\nexport * from \"./extraEinnahmen.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6ba3a84\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Wartungsverträge Terra Schüler\")]),_c('b-modal',{attrs:{\"id\":\"wartungsvertraege-terra-schueler\",\"size\":\"xl\",\"title\":\"BootstrapVue\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.updateItem(_vm.wartungsvertraegeItem._id, _vm.wartungsvertraegeItem)}}},[_c('p',{staticClass:\"my-4\"},[_c('b-table-simple',[_c('b-tr',_vm._l((_vm.fieldsTerraSchueler),function(field,index){return _c('b-th',{key:index},[_vm._v(\" \"+_vm._s(field.key)+\" \")])}),1),_c('b-tr',_vm._l((_vm.fieldsTerraSchueler),function(field,index){return _c('b-th',{key:index},[(field.key === 'preis')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'datumAbgeschlossen')?_c('b-form-datepicker',{model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}})],1)}),1)],1)],1)]),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fieldsTerraSchueler),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_vm._l((_vm.wartungsvertraegeListTerraSchueler),function(item){return _c('b-tr',{key:item._id},[_vm._l((_vm.fieldsTerraSchueler),function(field,index){return _c('b-th',{key:index},[(item[field.key] && field.key === 'start')?_c('span',[_vm._v(\" \"+_vm._s(new Date(item[field.key]).toLocaleDateString())+\" \")]):_c('span',[_vm._v(_vm._s(item[field.key]))])])}),_c('b-th',[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.wartungsvertraege-terra-schueler\",modifiers:{\"wartungsvertraege-terra-schueler\":true}}],key:_vm.index,attrs:{\"variant\":\"info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadItem(item._id)}}},[_vm._v(\"Edit\")])],1)],2)}),_c('b-tr',[_vm._l((_vm.fieldsTerraSchueler),function(field,index){return _c('b-th',{key:index},[(field.key === 'start')?_c('b-form-datepicker',{model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'fixOderGeplant')?_c('b-form-select',{attrs:{\"options\":['fix', 'geplant']},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}})],1)}),_c('b-th',[_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])],1)],2)],2)],1),_c('h2',[_vm._v(\"Wartungsverträge Terra Individual\")]),_c('b-modal',{attrs:{\"id\":\"wartungsvertraege-terra-individual\",\"size\":\"xl\",\"title\":\"BootstrapVue\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.updateItem(_vm.wartungsvertraegeItem._id, _vm.wartungsvertraegeItem)}}},[_c('p',{staticClass:\"my-4\"},[_c('b-table-simple',[_c('b-tr',_vm._l((_vm.fieldsTerraIndividual),function(field,index){return _c('b-th',{key:index},[_vm._v(\" \"+_vm._s(field.key)+\" \")])}),1),_c('b-tr',_vm._l((_vm.fieldsTerraIndividual),function(field,index){return _c('b-th',{key:index},[(field.key === 'preis')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'datumAbgeschlossen')?_c('b-form-datepicker',{model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}})],1)}),1)],1)],1)]),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fieldsTerraIndividual),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_vm._l((_vm.wartungsvertraegeListTerraIndividual),function(item){return _c('b-tr',{key:item._id},[_vm._l((_vm.fieldsTerraIndividual),function(field,index){return _c('b-th',{key:index},[(item[field.key] && field.key === 'start')?_c('span',[_vm._v(\" \"+_vm._s(new Date(item[field.key]).toLocaleDateString())+\" \")]):_c('span',[_vm._v(_vm._s(item[field.key]))])])}),_c('b-th',[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.wartungsvertraege-terra-individual\",modifiers:{\"wartungsvertraege-terra-individual\":true}}],key:_vm.index,attrs:{\"variant\":\"info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadItem(item._id)}}},[_vm._v(\"Edit\")])],1)],2)}),_c('b-tr',[_vm._l((_vm.fieldsTerraIndividual),function(field,index){return _c('b-th',{key:index},[(field.key === 'start')?_c('b-form-datepicker',{model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'fixOderGeplant')?_c('b-form-select',{attrs:{\"options\":['fix', 'geplant']},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}})],1)}),_c('b-th',[_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])],1)],2)],2)],1),_c('h2',[_vm._v(\"Wartungsverträge Terra Web\")]),_c('b-modal',{attrs:{\"id\":\"wartungsvertraege-terra-web\",\"size\":\"xl\",\"title\":\"BootstrapVue\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.updateItem(_vm.wartungsvertraegeItem._id, _vm.wartungsvertraegeItem)}}},[_c('p',{staticClass:\"my-4\"},[_c('b-table-simple',[_c('b-tr',_vm._l((_vm.fieldsTerraWeb),function(field,index){return _c('b-th',{key:index},[_vm._v(\" \"+_vm._s(field.key)+\" \")])}),1),_c('b-tr',_vm._l((_vm.fieldsTerraWeb),function(field,index){return _c('b-th',{key:index},[(field.key === 'preis')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'datumAbgeschlossen')?_c('b-form-datepicker',{model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.wartungsvertraegeItem[field.key]),callback:function ($$v) {_vm.$set(_vm.wartungsvertraegeItem, field.key, $$v)},expression:\"wartungsvertraegeItem[field.key]\"}})],1)}),1)],1)],1)]),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fieldsTerraWeb),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_vm._l((_vm.wartungsvertraegeListTerraWeb),function(item){return _c('b-tr',{key:item._id},[_vm._l((_vm.fieldsTerraWeb),function(field,index){return _c('b-th',{key:index},[(item[field.key] && field.key === 'start')?_c('span',[_vm._v(\" \"+_vm._s(new Date(item[field.key]).toLocaleDateString())+\" \")]):_c('span',[_vm._v(_vm._s(item[field.key]))])])}),_c('b-th',[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.wartungsvertraege-terra-web\",modifiers:{\"wartungsvertraege-terra-web\":true}}],key:_vm.index,attrs:{\"variant\":\"info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadItem(item._id)}}},[_vm._v(\"Edit\")])],1)],2)}),_c('b-tr',[_vm._l((_vm.fieldsTerraWeb),function(field,index){return _c('b-th',{key:index},[(field.key === 'start')?_c('b-form-datepicker',{model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'fixOderGeplant')?_c('b-form-select',{attrs:{\"options\":['fix', 'geplant']},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):(field.key === 'produkt')?_c('b-form-select',{attrs:{\"options\":_vm.produkteListBFormOptions},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newWartungsvertrag[field.key]),callback:function ($$v) {_vm.$set(_vm.newWartungsvertrag, field.key, $$v)},expression:\"newWartungsvertrag[field.key]\"}})],1)}),_c('b-th',[_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])],1)],2)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n    <h2>Wartungsverträge Terra Schüler</h2>\n\n    <b-modal id=\"wartungsvertraege-terra-schueler\" size=\"xl\" title=\"BootstrapVue\" area-hidden=\"false\" @ok=\"updateItem(wartungsvertraegeItem._id, wartungsvertraegeItem)\">\n \n    <p class=\"my-4\">\n      <b-table-simple>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fieldsTerraSchueler\" :key=\"index\">\n              {{field.key}}\n          </b-th>\n        </b-tr>\n        <b-tr>\n            <b-th v-for=\"(field, index) in fieldsTerraSchueler\" :key=\"index\">\n              <b-form-input v-if=\"field.key === 'preis'\" v-model=\"wartungsvertraegeItem[field.key]\" type=\"number\"></b-form-input>\n              <b-form-datepicker v-else-if=\"field.key === 'datumAbgeschlossen'\" v-model=\"wartungsvertraegeItem[field.key]\"></b-form-datepicker>\n              <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"wartungsvertraegeItem[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n              <b-form-input v-else :placeholder=\"field.key\"  v-model=\"wartungsvertraegeItem[field.key]\"></b-form-input>\n            </b-th>\n        </b-tr>\n      </b-table-simple>\n \n    </p>\n  </b-modal>\n   \n    <b-table-simple striped hover>\n        <b-thead>\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraSchueler\" :key=\"index\">{{field.key}}</b-th>\n                <b-th></b-th>\n            </b-tr>\n        </b-thead>\n        <b-tbody>\n            <b-tr v-for=\"item in wartungsvertraegeListTerraSchueler\" :key=\"item._id\">\n\n                <b-th v-for=\"(field, index) in fieldsTerraSchueler\" :key=\"index\">\n                    <span v-if=\"item[field.key] && field.key === 'start'\">\n                    {{ new Date(item[field.key]).toLocaleDateString() }}\n                     </span>\n                    <span v-else>{{item[field.key]}}</span>\n                </b-th>\n\n                <b-th>\n                    <b-btn v-b-modal.wartungsvertraege-terra-schueler variant=\"info\" :key=\"index\" @click.prevent=\"loadItem(item._id)\">Edit</b-btn>\n                </b-th>\n\n            </b-tr>\n\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraSchueler\" :key=\"index\">\n                    <b-form-datepicker v-if=\"field.key === 'start'\" v-model=\"newWartungsvertrag[field.key]\"></b-form-datepicker>\n                    <b-form-select v-else-if=\"field.key === 'fixOderGeplant'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"['fix', 'geplant']\"></b-form-select>\n                    <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n                    <b-form-input v-else :placeholder=\"field.key\" v-model=\"newWartungsvertrag[field.key]\"></b-form-input>\n                </b-th>\n\n                <b-th>\n                    <b-btn variant=\"success\" @click.prevent=\"submit\">Submit</b-btn>\n                </b-th>\n            </b-tr>\n        </b-tbody>\n    </b-table-simple>\n\n     <h2>Wartungsverträge Terra Individual</h2>\n\n    <b-modal id=\"wartungsvertraege-terra-individual\" size=\"xl\" title=\"BootstrapVue\" area-hidden=\"false\" @ok=\"updateItem(wartungsvertraegeItem._id, wartungsvertraegeItem)\">\n \n    <p class=\"my-4\">\n      <b-table-simple>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fieldsTerraIndividual\" :key=\"index\">\n              {{field.key}}\n          </b-th>\n        </b-tr>\n        <b-tr>\n            <b-th v-for=\"(field, index) in fieldsTerraIndividual\" :key=\"index\">\n              <b-form-input v-if=\"field.key === 'preis'\" v-model=\"wartungsvertraegeItem[field.key]\" type=\"number\"></b-form-input>\n              <b-form-datepicker v-else-if=\"field.key === 'datumAbgeschlossen'\" v-model=\"wartungsvertraegeItem[field.key]\"></b-form-datepicker>\n              <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"wartungsvertraegeItem[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n              <b-form-input v-else :placeholder=\"field.key\"  v-model=\"wartungsvertraegeItem[field.key]\"></b-form-input>\n            </b-th>\n        </b-tr>\n      </b-table-simple>\n \n    </p>\n  </b-modal>\n   \n    <b-table-simple striped hover>\n        <b-thead>\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraIndividual\" :key=\"index\">{{field.key}}</b-th>\n                <b-th></b-th>\n            </b-tr>\n        </b-thead>\n        <b-tbody>\n            <b-tr v-for=\"item in wartungsvertraegeListTerraIndividual\" :key=\"item._id\">\n\n                <b-th v-for=\"(field, index) in fieldsTerraIndividual\" :key=\"index\">\n                    <span v-if=\"item[field.key] && field.key === 'start'\">\n                    {{ new Date(item[field.key]).toLocaleDateString() }}\n                     </span>\n                    <span v-else>{{item[field.key]}}</span>\n                </b-th>\n\n                <b-th>\n                    <b-btn v-b-modal.wartungsvertraege-terra-individual variant=\"info\" :key=\"index\" @click.prevent=\"loadItem(item._id)\">Edit</b-btn>\n                </b-th>\n\n            </b-tr>\n\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraIndividual\" :key=\"index\">\n                    <b-form-datepicker v-if=\"field.key === 'start'\" v-model=\"newWartungsvertrag[field.key]\"></b-form-datepicker>\n                    <b-form-select v-else-if=\"field.key === 'fixOderGeplant'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"['fix', 'geplant']\"></b-form-select>\n                    <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n                    <b-form-input v-else :placeholder=\"field.key\" v-model=\"newWartungsvertrag[field.key]\"></b-form-input>\n                </b-th>\n\n                <b-th>\n                    <b-btn variant=\"success\" @click.prevent=\"submit\">Submit</b-btn>\n                </b-th>\n            </b-tr>\n        </b-tbody>\n    </b-table-simple>\n\n    <h2>Wartungsverträge Terra Web</h2>\n\n    <b-modal id=\"wartungsvertraege-terra-web\" size=\"xl\" title=\"BootstrapVue\" area-hidden=\"false\" @ok=\"updateItem(wartungsvertraegeItem._id, wartungsvertraegeItem)\">\n \n    <p class=\"my-4\">\n      <b-table-simple>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fieldsTerraWeb\" :key=\"index\">\n              {{field.key}}\n          </b-th>\n        </b-tr>\n        <b-tr>\n            <b-th v-for=\"(field, index) in fieldsTerraWeb\" :key=\"index\">\n              <b-form-input v-if=\"field.key === 'preis'\" v-model=\"wartungsvertraegeItem[field.key]\" type=\"number\"></b-form-input>\n              <b-form-datepicker v-else-if=\"field.key === 'datumAbgeschlossen'\" v-model=\"wartungsvertraegeItem[field.key]\"></b-form-datepicker>\n              <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"wartungsvertraegeItem[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n              <b-form-input v-else :placeholder=\"field.key\"  v-model=\"wartungsvertraegeItem[field.key]\"></b-form-input>\n            </b-th>\n        </b-tr>\n      </b-table-simple>\n \n    </p>\n  </b-modal>\n   \n    <b-table-simple striped hover>\n        <b-thead>\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraWeb\" :key=\"index\">{{field.key}}</b-th>\n                <b-th></b-th>\n            </b-tr>\n        </b-thead>\n        <b-tbody>\n            <b-tr v-for=\"item in wartungsvertraegeListTerraWeb\" :key=\"item._id\">\n\n                <b-th v-for=\"(field, index) in fieldsTerraWeb\" :key=\"index\">\n                    <span v-if=\"item[field.key] && field.key === 'start'\">\n                    {{ new Date(item[field.key]).toLocaleDateString() }}\n                     </span>\n                    <span v-else>{{item[field.key]}}</span>\n                </b-th>\n\n                <b-th>\n                    <b-btn v-b-modal.wartungsvertraege-terra-web variant=\"info\" :key=\"index\" @click.prevent=\"loadItem(item._id)\">Edit</b-btn>\n                </b-th>\n\n            </b-tr>\n\n            <b-tr>\n                <b-th v-for=\"(field, index) in fieldsTerraWeb\" :key=\"index\">\n                    <b-form-datepicker v-if=\"field.key === 'start'\" v-model=\"newWartungsvertrag[field.key]\"></b-form-datepicker>\n                    <b-form-select v-else-if=\"field.key === 'fixOderGeplant'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"['fix', 'geplant']\"></b-form-select>\n                    <b-form-select v-else-if=\"field.key === 'produkt'\" v-model=\"newWartungsvertrag[field.key]\" :options=\"produkteListBFormOptions\" ></b-form-select>\n                    <b-form-input v-else :placeholder=\"field.key\" v-model=\"newWartungsvertrag[field.key]\"></b-form-input>\n                </b-th>\n\n                <b-th>\n                    <b-btn variant=\"success\" @click.prevent=\"submit\">Submit</b-btn>\n                </b-th>\n            </b-tr>\n        </b-tbody>\n    </b-table-simple>\n\n    </div>\n\n    \n</template>\n\n<script>\nimport api from '../api.js'\n\nexport default {\n    data () {\n        return {\n            fields: [\n                {key: 'produkt', sortable: true, produkt: 'allgemein'},\n                {key: 'kunde', sortable: true, produkt: 'allgemein'},\n                {key: 'start', sortable: true, produkt: 'allgemein'},\n                {key: 'fixOderGeplant', sortable: true, produkt: 'allgemein'},\n                {key: 'proMonat', sortable: false, produkt: 'allgemein'},\n                {key: 'einmaligeZahlung', sortable: false, produkt: 'allgemein'},\n                {key: 'jahreswartung', sortable: false, produkt: 'allgemein'},\n                {key: 'idLexware', sortable: false, produkt: 'allgemein'},\n                {key: 'ASP', sortable: false, produkt: 'allgemein'},\n                {key: 'info', sortable: false, produkt: 'allgemein'},\n                {key: 'individualKaufAnwendung', sortable: false, produkt: 'terraIndividual'},\n                {key: 'individualStrassendatenProMonat', sortable: false, produkt: 'terraIndividual'},\n                {key: 'schuelerASPKDO', sortable: false, produkt: 'terraSchueler'},\n                {key: 'schuelerEigenerServer', sortable: false, produkt: 'terraSchueler'},\n                {key: 'schulerStart4Punkt0', sortable: false, produkt: 'terraSchueler'}\n            ],\n            wartungsvertraegeList: null,\n            newWartungsvertrag : {},\n            produkteList: [],\n            wartungsvertraegeItem: {},\n            index: 0\n        }\n    },\n    computed: {\n      produkteListBFormOptions () {\n          let result = this.produkteList.map(a => a.name)\n          return result\n      },\n      fieldsTerraSchueler () {\n          if ( this.fields === null ) {\n              return null\n          }\n          let result = this.fields.filter( item => {\n              if (item.produkt === 'allgemein' || item.produkt === 'terraSchueler') {\n                  return true\n              }})\n          return result\n      },\n      fieldsTerraIndividual () {\n          if ( this.fields === null ) {\n              return null\n          }\n          let result = this.fields.filter( item => {\n              if (item.produkt === 'allgemein' || item.produkt === 'terraIndividual') {\n                  return true\n              }})\n          return result\n      },\n      fieldsTerraWeb () {\n          if ( this.fields === null ) {\n              return null\n          }\n          let result = this.fields.filter( item => {\n              if (item.produkt === 'allgemein' || item.produkt === 'terraWeb') {\n                  return true\n              }})\n          return result\n      },\n      wartungsvertraegeListTerraSchueler () {\n          if ( this.wartungsvertraegeList === null ) {\n              return null\n          }\n          let result = this.wartungsvertraegeList.filter( item => item.produkt === 'terraSchüler')\n          return result\n      },\n      wartungsvertraegeListTerraIndividual () {\n          if ( this.wartungsvertraegeList === null ) {\n              return null\n          }\n          let result = this.wartungsvertraegeList.filter( item => item.produkt === 'terraIndividual')\n          return result\n      },\n      wartungsvertraegeListTerraWeb () {\n          if ( this.wartungsvertraegeList === null ) {\n              return null\n          }\n          let result = this.wartungsvertraegeList.filter( item => item.produkt === 'terraWeb')\n          return result\n      }\n    },\n    methods: {\n        async reload () {\n            try {\n                const response = await api\n                    .get('/wartungsvertraege')\n                this.wartungsvertraegeList = response.data\n                this.submitCalculateResultToStore(response.data)\n            } catch(err) {\n                console.log(err)\n            }\n        },\n        async submit() {\n            const res = await api.post(`/wartungsvertraege`, this.newWartungsvertrag)\n            if (res.status === 200) await this.reload()\n            this.submitCalculateResult()\n            \n        },\n        async updateItem(id, itemToUpdate) {\n            const res = await api.put(`/wartungsvertraege/${id}`, itemToUpdate)\n            if (res.status === 200) {\n                await this.reload()\n            }\n            this.submitCalculateResult()\n        },\n      async loadItem(id) {\n        const res = await api.get(`/wartungsvertraege/ID/${id}`)\n        this.wartungsvertraegeItem = res.data\n      },\n      submitCalculateResult() {\n        const total =  this.totalWartungsvertraege (this.wartungsvertraegeList)\n        const totalCurrentYear = total.filter(item => item.jahr === this.$store.getters.jahr)\n        this.$store.dispatch(\"updateWartungsvertraege\", totalCurrentYear)\n        total.forEach(async (item) => {\n          const res = api.post(`/calculateResults`, item);\n          if (res.status === 200) await this.reload();\n        })\n        //this.$emit('updateprodukte')\n        //console.log(\"updateprodukte\")\n      },\n      submitCalculateResultToStore(array) {\n        const total = this.totalWartungsvertraege(array)\n        const totalCurrentYear = total.filter(item => item.jahr === this.$store.getters.jahr)\n        //console.log(totalCurrentYear)\n        this.$store.dispatch(\"updateWartungsvertraege\", totalCurrentYear)\n        \n        \n      },\n      totalWartungsvertraege () {\n        if (!this.wartungsvertraegeList) {return 0}\n        \n        //Formats date of the array of objects to YYYY.\n        let wartungsvertraegeListYear = this.wartungsvertraegeList.map(obj => {\n          const container = {}\n          container['jahr'] = new Date(obj['start']).getFullYear()\n          container['monat'] = new Date(obj['start']).getMonth()\n          container['proMonat'] = obj['proMonat'] ? obj['proMonat'] : 0\n          container['einmaligeZahlung'] = obj['einmaligeZahlung'] ? obj['einmaligeZahlung'] : 0\n          container['jahreswartung'] = obj['jahreswartung'] ? obj['jahreswartung'] : 0\n          container['fixOderGeplant'] = obj['fixOderGeplant']\n          container['produkt'] = obj['produkt']\n          container['individualStrassendatenProMonat'] = obj['individualStrassendatenProMonat'] ? obj['individualStrassendatenProMonat'] : 0\n          return container\n        })\n\n        //Create an object out of produktList\n        let produkteListNull = {}\n        this.produkteList.map( (item) => {\n          produkteListNull[item.name] = 0\n        })\n\n        //Create Object which sums grouped by year and product\n        const currentYear = new Date().getFullYear() //current year for using in reduce\n        \n        let summedByYear = wartungsvertraegeListYear.reduce((accumulator, object) => {\n            if (object.fixOderGeplant === 'fix') {\n                let i = 0\n                for ( i=object.jahr; i <= currentYear; i++) {\n                \n                    if (!accumulator.some((item) => item.jahr === i )) {\n                        accumulator.push({ jahr: i, kostenLeistung: 'wartungsvertraege', ...produkteListNull })\n                }} \n\n                accumulator.forEach((item) => {\n                        if (item.jahr === object.jahr ) {\n                            item[object.produkt] = item[object.produkt] +  (12 - object.monat) * (object.proMonat + object.individualStrassendatenProMonat) + object.jahreswartung + object.einmaligeZahlung\n                        } if (item.jahr > object.jahr) {\n                            item[object.produkt] = item [object.produkt] + 12 * (object.proMonat + object.individualStrassendatenProMonat) + object.jahreswartung\n                        }\n                    }) \n                return accumulator\n          \n        } else {\n                return accumulator\n        }}, [])\n        //console.log(summedByYear)\n        return summedByYear\n        \n        //Promise.resolve('Success') //necessary??\n      } \n    },\n    async mounted () {\n        api\n          .get('/produkte')\n          .then(response => (this.produkteList = response.data))\n          .catch(error => console.log(error)),\n       await this.reload ()\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wartungsvertraege.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./wartungsvertraege.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./wartungsvertraege.vue?vue&type=template&id=4f688c1a&scoped=true&\"\nimport script from \"./wartungsvertraege.vue?vue&type=script&lang=js&\"\nexport * from \"./wartungsvertraege.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f688c1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Personal\")]),_c('div',[_c('b-modal',{attrs:{\"id\":\"modal-personal\",\"size\":\"xl\",\"title\":\"BootstrapVue\",\"area-hidden\":\"false\"},on:{\"ok\":function($event){return _vm.updateItem(_vm.personalItem._id, _vm.personalItem)}}},[_c('p',{staticClass:\"my-4\"},[_c('b-table-simple',[_c('b-tr',_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),1),_c('b-tr',_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(field.key === 'lohnGesamtProMonat')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):(field.key === 'prozentWeb')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):(field.key === 'prozentSchueler')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):(field.key === 'prozentIndividual')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):(field.key === 'abDatum')?_c('b-form-datepicker',{model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):(field.key === 'bisDatum')?_c('b-form-datepicker',{model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.personalItem[field.key]),callback:function ($$v) {_vm.$set(_vm.personalItem, field.key, $$v)},expression:\"personalItem[field.key]\"}})],1)}),1)],1)],1)])],1),_c('b-table-simple',{attrs:{\"striped\":\"\",\"hover\":\"\"}},[_c('b-thead',[_c('b-tr',[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[_vm._v(_vm._s(field.key))])}),_c('b-th')],2)],1),_c('b-tbody',[_vm._l((_vm.personalList),function(data,index){return _c('b-tr',{key:index},[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(data[field.key] && field.key === 'abDatum')?_c('span',[_vm._v(_vm._s(new Date(data[field.key]).toLocaleDateString()))]):(data[field.key] && field.key === 'bisDatum')?_c('span',[_vm._v(_vm._s(new Date(data[field.key]).toLocaleDateString()))]):_c('span',[_vm._v(_vm._s(data[field.key]))])])}),_c('b-th',[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-personal\",modifiers:{\"modal-personal\":true}}],key:index,attrs:{\"variant\":\"info\"},on:{\"click\":function($event){$event.preventDefault();return _vm.loadItem(data._id)}}},[_vm._v(\"Edit\")])],1)],2)}),_c('b-tr',[_vm._l((_vm.fields),function(field,index){return _c('b-th',{key:index},[(field.key === 'lohnGesamtProMonat')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):(field.key === 'prozentWeb')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):(field.key === 'prozentSchueler')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):(field.key === 'prozentIndividual')?_c('b-form-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):(field.key === 'abDatum')?_c('b-form-datepicker',{model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):(field.key === 'bisDatum')?_c('b-form-datepicker',{model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}}):_c('b-form-input',{attrs:{\"placeholder\":field.key},model:{value:(_vm.newPersonal[field.key]),callback:function ($$v) {_vm.$set(_vm.newPersonal, field.key, $$v)},expression:\"newPersonal[field.key]\"}})],1)}),_c('b-th',[_c('b-btn',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])],1)],2)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2>Personal</h2>\n    <div>\n      <!-- <b-button v-b-modal.modal-personal>Launch demo modal</b-button> -->\n\n      <b-modal\n        id=\"modal-personal\"\n        size=\"xl\"\n        title=\"BootstrapVue\"\n        area-hidden=\"false\"\n        @ok=\"updateItem(personalItem._id, personalItem)\"\n      >\n        <p class=\"my-4\">\n          <b-table-simple>\n            <b-tr>\n              <b-th v-for=\"(field, index) in fields\" :key=\"index\">{{field.key}}</b-th>\n            </b-tr>\n            <b-tr>\n              <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n                <b-form-input\n                  v-if=\"field.key === 'lohnGesamtProMonat'\"\n                  v-model=\"personalItem[field.key]\"\n                  type=\"number\"\n                ></b-form-input>\n                <b-form-input\n                  v-else-if=\"field.key === 'prozentWeb'\"\n                  v-model=\"personalItem[field.key]\"\n                  type=\"number\"\n                ></b-form-input>\n                <b-form-input\n                  v-else-if=\"field.key === 'prozentSchueler'\"\n                  v-model=\"personalItem[field.key]\"\n                  type=\"number\"\n                ></b-form-input>\n                <b-form-input\n                  v-else-if=\"field.key === 'prozentIndividual'\"\n                  v-model=\"personalItem[field.key]\"\n                  type=\"number\"\n                ></b-form-input>\n                <b-form-datepicker\n                  v-else-if=\"field.key === 'abDatum'\"\n                  v-model=\"personalItem[field.key]\"\n                ></b-form-datepicker>\n                <b-form-datepicker\n                  v-else-if=\"field.key === 'bisDatum'\"\n                  v-model=\"personalItem[field.key]\"\n                ></b-form-datepicker>\n                <b-form-input v-else :placeholder=\"field.key\" v-model=\"personalItem[field.key]\"></b-form-input>\n              </b-th>\n            </b-tr>\n          </b-table-simple>\n        </p>\n      </b-modal>\n    </div>\n    <b-table-simple striped hover>\n      <b-thead>\n        <b-tr>\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">{{field.key}}</b-th>\n          <b-th></b-th>\n        </b-tr>\n      </b-thead>\n\n      <b-tbody>\n        <b-tr v-for=\"(data, index) in personalList\" :key=\"index\">\n          <b-th  v-for=\"(field, index) in fields\" :key=\"index\">\n            <span\n              v-if=\"data[field.key] && field.key === 'abDatum'\"\n            >{{ new Date(data[field.key]).toLocaleDateString() }}</span>\n            <span\n              v-else-if=\"data[field.key] && field.key === 'bisDatum'\"\n            >{{ new Date(data[field.key]).toLocaleDateString() }}</span>\n            <span v-else>{{data[field.key]}}</span>\n          </b-th>\n\n          <b-th>\n            <b-btn\n              v-b-modal.modal-personal\n              variant=\"info\"\n              :key=\"index\"\n              @click.prevent=\"loadItem(data._id)\"\n            >Edit</b-btn>\n          </b-th>\n        </b-tr>\n\n        <b-tr>\n          <b-th v-for=\"(field, index) in fields\" :key=\"index\">\n            <b-form-input\n              v-if=\"field.key === 'lohnGesamtProMonat'\"\n              v-model=\"newPersonal[field.key]\"\n              type=\"number\"\n            ></b-form-input>\n            <b-form-input\n              v-else-if=\"field.key === 'prozentWeb'\"\n              v-model=\"newPersonal[field.key]\"\n              type=\"number\"\n            ></b-form-input>\n            <b-form-input\n              v-else-if=\"field.key === 'prozentSchueler'\"\n              v-model=\"newPersonal[field.key]\"\n              type=\"number\"\n            ></b-form-input>\n            <b-form-input\n              v-else-if=\"field.key === 'prozentIndividual'\"\n              v-model=\"newPersonal[field.key]\"\n              type=\"number\"\n            ></b-form-input>\n            <b-form-datepicker\n              v-else-if=\"field.key === 'abDatum'\"\n              v-model=\"newPersonal[field.key]\"\n            ></b-form-datepicker>\n            <b-form-datepicker\n              v-else-if=\"field.key === 'bisDatum'\"\n              v-model=\"newPersonal[field.key]\"\n            ></b-form-datepicker>\n            <b-form-input v-else :placeholder=\"field.key\" v-model=\"newPersonal[field.key]\"></b-form-input>\n          </b-th>\n\n          <b-th>\n            <b-btn variant=\"success\" @click.prevent=\"submit\">Submit</b-btn>\n          </b-th>\n        </b-tr>\n      </b-tbody>\n    </b-table-simple>\n  </div>\n</template>\n\n<script>\nimport api from \"../api.js\"\n\nexport default {\n  name: \"personal\",\n  data() {\n    return {\n      fields: [\n        { key: \"name\", sortable: true },\n        { key: \"funktion\", sortable: true },\n        { key: \"abDatum\", sortable: false },\n        { key: \"bisDatum\", sortable: true },\n        { key: \"lohnGesamtProMonat\", sortable: false },\n        { key: \"prozentWeb\", sortable: false },\n        { key: \"prozentSchueler\", sortable: false },\n        { key: \"prozentIndividual\", sortable: false },\n      ],\n      personalList: null,\n      newPersonal: {},\n      personalItem: {},\n      produkteList: [],\n    };\n  },\n  computed: {},\n  methods: {\n    async reload() {\n      try {\n        const response = await api.get(\"/personal\");\n        this.personalList = response.data;\n        this.submitCalculateResultToStore(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async submit() {\n      const res = await api.post(`/personal`, this.newPersonal);\n      if (res.status === 200) await this.reload();\n      this.submitCalculateResult();\n    },\n    async removeItem(id) {\n      const res = await api.delete(`/personal/${id}`);\n      if (res.status === 200) {\n        alert(`Eintrag mit ID ${id} wurde gelöscht.`);\n        await this.reload();\n        this.submitCalculateResult();\n      }\n    },\n    async loadItem(id) {\n      const res = await api.get(`/personal/ID/${id}`);\n      this.personalItem = res.data;\n    },\n    async updateItem(id, ItemToUpdate) {\n      const res = await api.put(`/personal/${id}`, ItemToUpdate);\n      if (res.status === 200) {\n        await this.reload();\n        this.submitCalculateResult();\n      }\n      //this.submitCalculateResult()\n      //setTimeout(() => this.submitCalculateResult(), 2000)\n    },\n    submitCalculateResult() {\n      const total = this.totalPersonal(this.personalList)\n      //console.log(this.personalList)\n      const totalCurrentYear = total.filter(\n        (item) => item.jahr === this.$store.getters.jahr\n      )\n      this.$store.dispatch(\"updatePersonal\", totalCurrentYear)\n      total.forEach(async (item) => {\n        const res = api.post(`/calculateResults`, item)\n        if (res.status === 200) await this.reload()\n      })\n    },\n    submitCalculateResultToStore(array) {\n      const total = this.totalPersonal(array)\n      const totalCurrentYear = total.filter(item => item.jahr === this.$store.getters.jahr)\n      this.$store.dispatch(\"updatePersonal\", totalCurrentYear)\n    },\n    totalPersonal (personalListObject) {\n        if (!personalListObject) {return 0}\n        //ok: console.log(personalListObject)\n        \n        //Formats date of the array of objects to YYYY.\n        let personalListYear = personalListObject.map(obj => {\n          const container = {}\n          container['jahrStart'] = new Date(obj['abDatum']).getFullYear()\n          container['jahrStop'] = new Date(obj['bisDatum']).getFullYear()\n          container['monatStart'] = new Date(obj['abDatum']).getMonth()\n          container['monatStop'] = new Date(obj['bisDatum']).getMonth()\n          container['lohnGesamtProMonat'] = obj['lohnGesamtProMonat'] ? obj['lohnGesamtProMonat'] : 0\n          container['terraWeb'] = obj['prozentWeb'] ? obj['prozentWeb'] : 0\n          container['terraSchüler'] = obj['prozentSchueler'] ? obj['prozentSchueler'] : 0\n          container['terraIndividual'] = obj['prozentIndividual'] ? obj['prozentIndividual'] : 0\n          container['sonstige'] = 0\n          return container\n        })\n         \n        //Create an object out of produktList\n        let produkteListNull = {}\n        this.produkteList.map( (item) => {\n          produkteListNull[item.name] = 0\n        })\n\n        //Create Object which sums grouped by year and product\n        //const currentYear = new Date().getFullYear() //current year for using in reduce\n        \n        let summedByYear = personalListYear.reduce((accumulator, object) => {\n          let i = 0\n          for ( i=object.jahrStart; i <= object.jahrStop; i++) {\n              if (!accumulator.some((item) => item.jahr === i )) {\n                  accumulator.push({ jahr: i, kostenLeistung: 'personal', ...produkteListNull })\n          }} \n          accumulator.forEach((item) => {\n             if (item.jahr === object.jahrStart && !(item.jahr === object.jahrStop)  ) {\n              let j = 0\n              for (j = 0 ; j < this.produkteList.length; j ++) {\n                item[this.produkteList[j].name] = item[this.produkteList[j].name] +  (12 - object.monatStart) * object.lohnGesamtProMonat * object[this.produkteList[j].name] * 0.01\n              }\n            }  if (item.jahr > object.jahrStart  && item.jahr < object.jahrStop ) {\n                let j = 0\n                for (j = 0 ; j < this.produkteList.length; j ++) {\n                  item[this.produkteList[j].name] = item[this.produkteList[j].name] +  12 * object.lohnGesamtProMonat * object[this.produkteList[j].name] * 0.01\n              }\n            }   if (item.jahr === object.jahrStop && !(item.jahr === object.jahrStart) ) {\n                let j = 0\n                for (j = 0 ; j < this.produkteList.length; j ++) {\n                  item[this.produkteList[j].name] = item[this.produkteList[j].name] +  (object.monatStop + 1) * object.lohnGesamtProMonat * object[this.produkteList[j].name] * 0.01\n                }\n              } if (item.jahr === object.jahrStop && item.jahr === object.jahrStart ) {\n                let j = 0\n                for (j = 0 ; j < this.produkteList.length; j ++) {\n                  item[this.produkteList[j].name] = item[this.produkteList[j].name] +  (object.monatStop - object.monatStart + 1) * object.lohnGesamtProMonat * object[this.produkteList[j].name] * 0.01\n                }\n              } \n          }) \n          return accumulator\n          \n        }, [])\n        return summedByYear\n        \n        //Promise.resolve('Success') //necessary??\n      }\n  },\n  async mounted() {\n    api\n      .get(\"/produkte\")\n      .then((response) => (this.produkteList = response.data))\n      .catch((error) => console.log(error)),\n      await this.reload();\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./personal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./personal.vue?vue&type=template&id=2724b682&\"\nimport script from \"./personal.vue?vue&type=script&lang=js&\"\nexport * from \"./personal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div> \n<h3 style=\"text-align: center; padding: 0 0 7px 0\">Terraplan Kostenrechnung 2020</h3>\n        <produkte-jahresueberblick></produkte-jahresueberblick>\n        <personal></personal>\n        <extraEinnahmen></extraEinnahmen>\n        <wartungsvertraege></wartungsvertraege>\n        \n    </div>\n</template>\n\n<script>\nimport produkteJahresueberblick from '../components/produkteJahresueberblick.vue'\nimport extraEinnahmen from '../components/extraEinnahmen.vue'\nimport wartungsvertraege from '../components/wartungsvertraege.vue'\nimport personal from '../components/personal.vue'\n\nexport default {\n    name: \"home\",\n    components: {  \n        produkteJahresueberblick,\n        extraEinnahmen,\n        wartungsvertraege,\n        personal\n    }\n}\n</script>\n\n<style lang=\"css\">\n\n  \n\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2b1d35c5&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport VueRouter from \"vue-router\"\nimport Home from \"../views/Home.vue\"\n\nVue.use(VueRouter)\n\nconst routes = [\n    {\n        path: \"/\",\n        name: \"home\",\n        component: Home\n    },\n    {\n        path: \"/konto/neuer-eintrag\",\n        name: \"neuer-eintrag\",\n        component: () => import('../views/Konto/Neuer-Eintrag.vue')\n    }\n]\n\nconst router = new VueRouter({\n    mode: \"history\",\n    base: process.env.BASE_URL,\n    routes\n})\n\nexport default router\n","import Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store ({\n    strict: true,\n    \n    state: {\n       form: {jahr: null},\n       calculateResults: {extraEinnahmen: {}, wartungsvertraege: {}, personal: {}},\n       kalkulierteKosten: {kalkulierteKosten: {}}\n    },\n    mutations: {\n        updateJahr (state, value) {\n            state.form.jahr = value\n        }, \n        updateExtraEinnahmen (state, value) {\n            state.calculateResults.extraEinnahmen = value\n        }, \n        updateWartungsvertraege (state, value) {\n            state.calculateResults.wartungsvertraege = value\n        }, \n        updatePersonal (state, value) {\n            state.calculateResults.personal = value\n        },\n        updateKalkulierteKosten (state, value) {\n            state.kalkulierteKosten.kalkulierteKosten = value\n        }\n    },\n    actions: {\n        updateJahr (context, jahr) {\n                context.commit('updateJahr', jahr)\n        },\n        updateExtraEinnahmen (context, value) {\n            context.commit('updateExtraEinnahmen', value)\n        },\n        updateWartungsvertraege (context, value) {\n            context.commit('updateWartungsvertraege', value)\n        },\n        updatePersonal (context, value) {\n            context.commit('updatePersonal', value)\n        },\n        updateKalkulierteKosten (context, value) {\n            context.commit('updateKalkulierteKosten', value)\n        }\n    },\n    getters: {\n        jahr: (state) => state.form.jahr,\n        extraEinnahmen: (state) => state.calculateResults.extraEinnahmen,\n        wartungsvertraege: (state) => state.calculateResults.wartungsvertraege,\n        personal: (state) => state.calculateResults.personal,\n        kalkulierteKosten: (state) => state.kalkulierteKosten.kalkulierteKosten\n    },\n    modules: {}\n\n})","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n/* import bootstrap from 'bootstrap' */\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\nimport './assets/css/style.scss'\n\nVue.use(BootstrapVue)\nVue.use(IconsPlugin)\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store, \n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkt.vue?vue&type=style&index=0&id=690ac2b7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./produkt.vue?vue&type=style&index=0&id=690ac2b7&scoped=true&lang=css&\""],"sourceRoot":""}